\usepackage [utf8] {inputenc}
\usepackage [T2A] {fontenc}
\usepackage[english, russian]{babel}
\usepackage {amsfonts}
% \usepackage{eufrak}
\usepackage{amssymb, amsthm}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{needspace}
\usepackage{etoolbox}
\usepackage{lipsum}
\usepackage{comment}
\usepackage{cmap}
\usepackage[pdftex]{graphicx}
\usepackage{hyperref}
\usepackage{epstopdf}
\usepackage{enumitem}
\usepackage{cancel}

% разметка страницы и колонтитул
\usepackage[left=1cm,right=2cm,top=1.5cm,bottom=1cm,bindingoffset=0cm]{geometry}
\usepackage{fancybox,fancyhdr}
\fancyhf{}
\fancyhead[R]{\thepage}
\fancyhead[L]{\rightmark}
% \fancyfoot[RO,LE]{\thesection}
\fancyfoot[C]{\leftmark}
\addtolength{\headheight}{13pt}

\pagestyle{fancy}

\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}

\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}

\usepackage{xifthen}
\makeatother
\def\@lecture{}%
\newcommand{\lecture}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lecture{Лекция #1}%
    }{%
        \def\@lecture{Лекция #1: #3}%
    }%
    \subsection*{\@lecture}
    \marginpar{\small\textsf{\mbox{#2}}}
}
\makeatletter
\usepackage[]{xcolor}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\K}{\mathbb{K}}
\newcommand{\Cm}{\mathbb{C}}
\newcommand{\Pm}{\mathbb{P}}
\newcommand{\ilim}{\int\limits}
\newcommand{\slim}{\sum\limits}
\newcommand{\im}{\operatorname{Im}}
\newcommand{\re}{\operatorname{Re}}
\newcommand{\ke}{ \operatorname{Ker}}
\newcommand{\ord}{\operatorname{ord}}
\newcommand{\lcm}{\operatorname{lcm}}
\newcommand{\sign}{\operatorname{sign}}
\newcommand{\Hom}{ \operatorname{Hom}}
\newcommand{\Poly}{\operatorname{Poly}}
\newcommand{\osc}{ \operatorname{osc}}
\newcommand{\rank}{\operatorname{rank}}
\newcommand{\pivi}{\stackrel \circ }

\renewcommand{\o}{o}
\renewcommand{\O}{\mathcal{O}}
% \renewcommand{\O}[1]{$\mathcal{O}(#1)$}
\newcommand{\grad}{\operatorname{grad}}
\renewcommand{\le}{\leqslant}
\renewcommand{\ge}{\geqslant}

\def\mydef{\mathrel{\stackrel{\rm def}=}}

\usepackage{mdframed}
\mdfsetup{skipabove=3pt,skipbelow=3pt}
\mdfdefinestyle{defstyle}{%
    linecolor=red,
	linewidth=2pt,topline=false,bottomline=false,%
    frametitlerule=false,%
    frametitlebackgroundcolor=red!10,%
    innertopmargin=4pt,innerbottommargin=4pt,
    frametitlebelowskip=1pt,
    frametitleaboveskip=3pt,
}
\mdfdefinestyle{thmstyle}{%
    linecolor=cyan!100,
	linewidth=2pt,topline=false,bottomline=false,%
    frametitlerule=false,%
    frametitlebackgroundcolor=cyan!20,%
    innertopmargin=4pt,innerbottommargin=4pt,
    frametitlebelowskip=1pt,
    frametitleaboveskip=3pt,
}
\theoremstyle{definition}
\mdtheorem[style=defstyle]{defn}{Определение}

\newmdtheoremenv[nobreak=true,backgroundcolor=Aquamarine!10,linewidth=0pt,innertopmargin=-2pt,innerbottommargin=2pt]{cor}{Следствие}
\newmdtheoremenv[nobreak=true,backgroundcolor=CarnationPink!10,linewidth=0pt,innertopmargin=-2pt,innerbottommargin=2pt]{desc}{Описание}
\newmdtheoremenv[nobreak=true,backgroundcolor=Gray!10,linewidth=0pt,innertopmargin=-2pt,innerbottommargin=2pt]{ex}{Пример}
\theoremstyle{plain}
\mdtheorem[style=thmstyle]{thm}{Теорема}
% \newmdtheoremenv[nobreak=true,backgroundcolor=cyan!20,linewidth=0pt,innertopmargin=0pt,innerbottommargin=7pt]{thm}{Theorem}

\newmdtheoremenv[nobreak=true,backgroundcolor=Mulberry!10,linewidth=0pt,innertopmargin=-2pt,innerbottommargin=2pt]{lm}{Лемма}

\theoremstyle{plain}
\newtheorem*{st}{Утверждение}
\newtheorem*{prop}{Свойства}

\theoremstyle{definition}
\newtheorem*{name}{Обозначение}

\theoremstyle{remark}
\newtheorem*{rem}{Ремарка}
\newtheorem*{com}{Комментарий}
\newtheorem*{note}{Замечание}
\newtheorem*{prac}{Упражнение}
\newtheorem*{probl}{Задача}

\renewcommand{\proofname}{Доказательство}

\numberwithin{ex}{section}
\numberwithin{thm}{section}
\numberwithin{equation}{section}

